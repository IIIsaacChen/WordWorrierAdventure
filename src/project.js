window.__require=function t(i,e,a){function n(c,r){if(!e[c]){if(!i[c]){var o=c.split("/");if(o=o[o.length-1],!i[o]){var h="function"==typeof __require&&__require;if(!r&&h)return h(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+c+"'")}}var d=e[c]={exports:{}};i[c][0].call(d.exports,function(t){return n(i[c][1][t]||t)},d,d.exports,t,i,e,a)}return e[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<a.length;c++)n(a[c]);return n}({card:[function(t,i,e){"use strict";cc._RF.push(i,"2ab76y9rm5Mhbi/CGwKLOMc","card");var a=t("variables");cc.Class({extends:cc.Component,properties:{},start:function(){this.game=cc.find("Canvas").getComponent("game"),this.number=this.num,this.ifPlay=!1,this.lang=this.language,this.string=this.node.getChildByName("Label").getComponent(cc.Label).string,"English"==this.lang&&(this.node.on(cc.Node.EventType.TOUCH_START,function(t){a.key2&&(this.node.runAction(cc.scaleTo(.1,1)),this.node.parent=cc.find("Canvas"))},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){a.key2&&(this.node.runAction(cc.moveBy(.1,t.getDelta())),this.node.parent.parent.convertToNodeSpaceAR(t.getLocation()).y>260?this.ifPlay=!0:this.ifPlay=!1)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){a.key2&&(this.ifPlay?(this.node.stopAllActions(),this.node.setPosition(0,-a.cardHeight/2),this.ifPlay=!1,this.game.cardEnglish.indexOf(this.string)==a.answer?(a.ifCorrect=1,this.node.destroy()):(a.ifCorrect=2,this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.3,.33)),this.node.setPosition(a.cardPosX[this.number],a.cardPosY[this.number]),this.node.parent=cc.find("Canvas/cardSet")),a.ifCountTime=!1):(this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.3,.33)),this.node.setPosition(a.cardPosX[this.number],a.cardPosY[this.number]),this.node.parent=cc.find("Canvas/cardSet")))},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){a.key2&&(this.ifPlay?(this.node.stopAllActions(),this.node.setPosition(0,-a.cardHeight/2),this.game.cardEnglish.indexOf(this.string)==a.answer?(a.ifCorrect=1,this.node.destroy()):(a.ifCorrect=2,this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.3,.33)),this.node.setPosition(a.cardPosX[this.number],a.cardPosY[this.number]),this.node.parent=cc.find("Canvas/cardSet")),a.ifCountTime=!1):(this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.3,.33)),this.node.setPosition(a.cardPosX[this.number],a.cardPosY[this.number]),this.node.parent=cc.find("Canvas/cardSet")))},this))},update:function(t){this.ifPlay&&a.lastcount<=0&&this.node.destroy(),a.ifTurnEnd&&this.node.destroy()}}),cc._RF.pop()},{variables:"variables"}],enermy:[function(t,i,e){"use strict";cc._RF.push(i,"5fca5uMKXBHgJ/VNa77iPAo","enermy");var a=t("variables");cc.Class({extends:cc.Component,properties:{audio:{default:[],type:cc.AudioClip}},onLoad:function(){},start:function(){this.ifAttack=!1,this.player=this.game.player,this.enermyPos=this.node.getPosition(),this.playerPos=this.player.getPosition(),this.maxHP=a.enermyHP,this.HP=this.maxHP},onCollisionEnter:function(t,i){0==t.tag&&(this.ifAttack?(i.getComponent(cc.Animation).play("enermy1Attack").wrapMode=cc.WrapMode.Normal,this.ifAttack=!1,cc.audioEngine.play(this.audio[0],!1,1)):(i.getComponent(cc.Animation).play("enermy1Hit").wrapMode=cc.WrapMode.Normal,this.HP-=a.combo,this.game.lifeBarEnermy.setContentSize(a.lifeBarWidth,a.lifeBarHeight*(this.HP/this.maxHP)),this.HP<=0&&(cc.audioEngine.play(this.audio[1],!1,1),a.battleResult=2)))},update:function(t){2==a.ifCorrect&&(a.ifCorrect=0,this.node.runAction(cc.moveBy(.5,(this.playerPos.x-this.node.getPosition().x)*a.moveRadio,(this.playerPos.y-this.node.getPosition().y)*a.moveRadio)),this.ifAttack=!0)},returnOriginal:function(){this.node.runAction(cc.moveTo(.5,this.enermyPos)),a.lastCount=a.LASTCOUNT,a.ifCountTime=!0,this.game.getComponent("game").nextQuestion()}}),cc._RF.pop()},{variables:"variables"}],gameOver:[function(t,i,e){"use strict";cc._RF.push(i,"efdedMC+X5DvogaCQO7Gzns","gameOver");var a=t("variables");cc.Class({extends:cc.Component,properties:{},start:function(){this.colume1=cc.find("Canvas/colume1").getComponent(cc.Label),this.colume2=cc.find("Canvas/colume2").getComponent(cc.Label),this.pagen=0,this.showContent()},return:function(){a.answer=0,a.startPlay=!1,a.ifCorrect=0,a.key2=!1,a.ifCountTime=!1,a.ifTurnEnd=!1,a.cardPosX=[],a.cardPosY=[],a.enermyHP=50,a.battleResult=0,a.gameTime=a.GAMETIME,a.lastCount=a.LASTCOUNT,a.ChineseAll=[],a.EnglishAll=[],cc.director.loadScene("welcome")},nextPage:function(){30+30*this.pagen<a.ChineseAll.length&&(this.pagen+=1,this.showContent())},showContent:function(){for(var t="",i=0,e=(i=Math.min(15+30*this.pagen,a.ChineseAll.length),0+30*this.pagen);e<i;e++)t=t+a.EnglishAll[e]+" "+a.ChineseAll[e]+"\n";this.colume1.string=t;var n="";for(i=Math.min(30+30*this.pagen,a.ChineseAll.length),e=15+30*this.pagen;e<i;e++)n=n+a.EnglishAll[e]+" "+a.ChineseAll[e]+"\n";this.colume2.string=n}}),cc._RF.pop()},{variables:"variables"}],game:[function(t,i,e){"use strict";cc._RF.push(i,"607789EUTVIFJqN8IOtdE8F","game");var a=t("variables");cc.Class({extends:cc.Component,properties:{gameList:{default:null,type:cc.JsonAsset},enermy:{default:[],type:cc.Prefab},card:{default:[],type:cc.Prefab},lifeBar:{default:[],type:cc.Prefab},player:{default:[],type:cc.Prefab},mode:0},start:function(){cc.director.getCollisionManager().enabled=!0,this.time=cc.find("Canvas/lastCount"),this.gameOver=cc.find("Canvas/gameTime"),this.json=this.gameList.json,this.sum=this.json.length,this.cardNum=0,this.firstOverDraw=!1,this.maxCardNum=a.maxCardNum,this.buttonDraw=cc.find("Canvas/buttonDraw"),this.buttonOver=cc.find("Canvas/buttonOver"),this.cardChinese=new Array,this.cardEnglish=new Array,this.answeredCard=new Array,this.aC=0,this.createPlayer(),this.createEnermy(),this.drawCard()},update:function(t){a.gameTime-=t,this.gameOver.getComponent(cc.Label).string=a.gameTime.toFixed(2),a.ifCountTime&&(a.lastCount-=t,this.time.getComponent(cc.Label).string=a.lastCount.toFixed(2)),a.lastCount<=0&&this.nextQuestion(),0!=a.battleResult&&cc.director.loadScene("gameOver")},createPlayer:function(){this.player=cc.instantiate(this.player[0]),this.node.addChild(this.player),this.player.setPosition(a.canvasWidth/3,-a.canvasWidth/5+20),this.player.getComponent("player").game=this,this.lifeBarPlayer=cc.instantiate(this.lifeBar[0]),this.node.addChild(this.lifeBarPlayer),this.lifeBarPlayer.setPosition(620,-250)},createEnermy:function(){this.enermy=cc.instantiate(this.enermy[0]),this.node.addChild(this.enermy),this.enermy.setPosition(-a.canvasWidth/3,a.canvasWidth/5-20),this.enermy.getComponent("enermy").game=this,this.lifeBarEnermy=cc.instantiate(this.lifeBar[1]),this.node.addChild(this.lifeBarEnermy),this.lifeBarEnermy.setPosition(-620,250)},drawCard:function(){this.time.getComponent(cc.Label).string="\u6478\u724c\u9636\u6bb5",a.startPlay=!1,this.firstOverDraw=!1,this.cardNum<5?this.buttonOver.active=!1:this.buttonOver.active=!0;var t=this.json[Math.floor(Math.random()*this.sum)];this.cardChi=cc.instantiate(this.card[0]),this.cardChi.setPosition(-a.canvasWidth/2+a.cardWidth/2,a.cardHeight/2),this.node.addChild(this.cardChi),this.cardChi.getComponent("card").language="Chinese",this.cardChi.getChildByName("Label").getComponent(cc.Label).string=t.Chinese,this.cardEng=cc.instantiate(this.card[0]),this.cardEng.setPosition(-a.canvasWidth/2+a.cardWidth/2,-a.cardHeight/2),this.node.getChildByName("cardSet").addChild(this.cardEng),this.cardEng.getComponent("card").num=this.cardNum,this.cardEng.getComponent("card").language="English",this.cardEng.getChildByName("Label").getComponent(cc.Label).string=t.English,this.cardChinese[this.cardNum]=t.Chinese,this.cardEnglish[this.cardNum]=t.English,a.ChineseAll.push(t.Chinese),a.EnglishAll.push(t.English);var i=cc.moveBy(.3,a.canvasWidth/2-a.cardWidth/2,0);this.cardChi.runAction(i);i=cc.moveBy(.3,a.canvasWidth/2-a.cardWidth/2,0);this.cardEng.runAction(i)},nextCard:function(){this.cardNum+=1,this.postNum=Math.ceil(3*this.cardNum/5);this.cardChi.destroy();var t=((this.cardNum-Math.ceil(this.maxCardNum/4)+2)%5-2)*a.cardWidth*.33,i=.33*a.cardHeight*Math.floor(2*this.cardNum/this.maxCardNum-.01)-a.canvasHeight/2+a.cardHeight/2,e=cc.spawn(cc.scaleBy(.1,.33),cc.moveTo(.1,t,i));a.cardPosX[this.cardNum-1]=t,a.cardPosY[this.cardNum-1]=i,this.cardEng.runAction(e),this.cardChi.getComponent("card").key1=!0,this.buttonDraw.active=!1;var n=this;this.cardNum<this.maxCardNum&&(this.drawCard(),setTimeout(function(){n.buttonDraw.active=!0},500))},overDraw:function(){this.buttonOver.active=!1,this.firstOverDraw||10==this.cardNum||this.cardEng.destroy(),this.nextQuestion(),a.key2=!0,this.buttonDraw.active=!1},nextQuestion:function(){if(this.cardChi.destroy(),this.answeredCard.length<Math.ceil(3*this.cardNum/5)){a.lastCount=a.LASTCOUNT;for(var t=!0,i=0;t;)i=Math.floor(Math.random()*this.cardNum),-1==this.answeredCard.indexOf(i)&&(t=!1);a.ifCountTime=!0,a.answer=i,this.answeredCard[this.aC]=i,this.aC+=1,this.cardChi=cc.instantiate(this.card[0]),this.cardChi.setPosition(0,a.cardHeight/2),this.node.addChild(this.cardChi),this.cardChi.getChildByName("Label").getComponent(cc.Label).string=this.cardChinese[i]}else{a.lastCount=a.LASTCOUNT,a.ifTurnEnd=!0,a.combo=0,this.answeredCard=new Array,this.aC=0,a.cardPosX=[],a.cardPosY=[],a.key2=!1,a.ifCountTime=!1;var e=this;this.cardNum=0,this.buttonDraw.active=!0,setTimeout(function(){a.ifTurnEnd=!1},100),setTimeout(function(){e.drawCard(),console.log("123")},200)}}}),cc._RF.pop()},{variables:"variables"}],player:[function(t,i,e){"use strict";cc._RF.push(i,"37da3J/03NOwaEZIn2C2E4R","player");var a=t("variables");cc.Class({extends:cc.Component,properties:{audio:{default:[],type:cc.AudioClip}},start:function(){this.enermy=this.game.enermy,this.playerPos=this.node.getPosition(),this.enermyPos=this.enermy.getPosition(),this.ifDone=!1,this.ifAttack=!1,this.maxHP=a.playerHP,this.HP=this.maxHP},update:function(t){1==a.ifCorrect&&(a.ifCorrect=0,this.node.runAction(cc.moveBy(.5,(this.enermyPos.x-this.node.getPosition().x)*a.moveRadio,(this.enermyPos.y-this.node.getPosition().y)*a.moveRadio)),this.ifAttack=!0)},onCollisionEnter:function(t,i){1==t.tag&&(this.ifAttack?(i.getComponent(cc.Animation).play("playerAttack").wrapMode=cc.WrapMode.Normal,this.ifAttack=!1,a.combo+=1,cc.audioEngine.play(this.audio[0],!1,1),cc.audioEngine.play(this.audio[a.combo+1],!1,1)):(i.getComponent(cc.Animation).play("playerHit").wrapMode=cc.WrapMode.Normal,this.HP-=1,this.game.lifeBarPlayer.setContentSize(a.lifeBarWidth,a.lifeBarHeight*(this.HP/this.maxHP)),this.HP<=0&&(a.battleResult=1)))},returnOriginal:function(){this.node.runAction(cc.moveTo(.5,this.playerPos)),a.lastCount=a.LASTCOUNT,a.ifCountTime=!0,this.game.getComponent("game").nextQuestion()}}),cc._RF.pop()},{variables:"variables"}],tutorial:[function(t,i,e){"use strict";cc._RF.push(i,"e9d9dPMCLRDK5mA9R2gcXhQ","tutorial");var a=t("variables");cc.Class({extends:cc.Component,properties:{gameList:{default:null,type:cc.JsonAsset},enermy:{default:[],type:cc.Prefab},card:{default:[],type:cc.Prefab},lifeBar:{default:[],type:cc.Prefab},player:{default:[],type:cc.Prefab},mode:0},start:function(){cc.director.getCollisionManager().enabled=!0,this.time=cc.find("Canvas/lastCount"),this.gameOver=cc.find("Canvas/gameTime"),this.json=this.gameList.json,this.sum=this.json.length,this.cardNum=0,this.firstOverDraw=!1,this.maxCardNum=a.maxCardNum,this.buttonDraw=cc.find("Canvas/explain2/buttonDraw"),this.buttonOver=cc.find("Canvas/explain2/buttonOver"),this.cardChinese=new Array,this.cardEnglish=new Array,this.answeredCard=new Array,this.aC=0,cc.find("Canvas/explain3").active=!1,cc.find("Canvas/explain2").active=!1,cc.find("Canvas/nextStep").active=!1,setTimeout(function(){cc.find("Canvas/nextStep").active=!0},5e3)},explain2:function(){cc.find("Canvas/explain2").active=!0,cc.find("Canvas/explain1").active=!1,cc.find("Canvas/nextStep").active=!1,this.drawCard()},update:function(t){a.gameTime-=t,this.gameOver.getComponent(cc.Label).string=a.gameTime.toFixed(2),a.ifCountTime&&(a.lastCount-=t,this.time.getComponent(cc.Label).string=a.lastCount.toFixed(2)),a.lastCount<=0&&this.nextQuestion()},drawCard:function(){this.time.getComponent(cc.Label).string="\u6478\u724c\u9636\u6bb5",a.startPlay=!1,this.firstOverDraw=!1,this.cardNum<5?this.buttonOver.active=!1:this.buttonOver.active=!0;var t=this.json[Math.floor(Math.random()*this.sum)];this.cardChi=cc.instantiate(this.card[0]),this.cardChi.setPosition(-a.canvasWidth/2+a.cardWidth/2,a.cardHeight/2),this.node.addChild(this.cardChi),this.cardChi.getComponent("card").language="Chinese",this.cardChi.getChildByName("Label").getComponent(cc.Label).string=t.Chinese,this.cardEng=cc.instantiate(this.card[0]),this.cardEng.setPosition(-a.canvasWidth/2+a.cardWidth/2,-a.cardHeight/2),this.node.getChildByName("cardSet").addChild(this.cardEng),this.cardEng.getComponent("card").num=this.cardNum,this.cardEng.getComponent("card").language="English",this.cardEng.getChildByName("Label").getComponent(cc.Label).string=t.English,this.cardChinese[this.cardNum]=t.Chinese,this.cardEnglish[this.cardNum]=t.English;var i=cc.moveBy(.3,a.canvasWidth/2-a.cardWidth/2,0);this.cardChi.runAction(i);i=cc.moveBy(.3,a.canvasWidth/2-a.cardWidth/2,0);this.cardEng.runAction(i)},nextCard:function(){this.cardNum+=1,this.postNum=Math.ceil(3*this.cardNum/5);this.cardChi.destroy();var t=((this.cardNum-Math.ceil(this.maxCardNum/4)+2)%5-2)*a.cardWidth*.33,i=.33*a.cardHeight*Math.floor(2*this.cardNum/this.maxCardNum-.01)-a.canvasHeight/2+a.cardHeight/2,e=cc.spawn(cc.scaleBy(.1,.33),cc.moveTo(.1,t,i));a.cardPosX[this.cardNum-1]=t,a.cardPosY[this.cardNum-1]=i,this.cardEng.runAction(e),this.cardChi.getComponent("card").key1=!0,this.buttonDraw.active=!1;var n=this;this.cardNum<this.maxCardNum&&(this.drawCard(),setTimeout(function(){n.buttonDraw.active=!0},500))},overDraw:function(){this.buttonOver.active=!1,cc.find("Canvas/explain2").active=!1,cc.find("Canvas/explain3").active=!0,cc.find("Canvas/explain3/return").active=!1,setTimeout(function(){cc.find("Canvas/explain3/return").active=!0},5e3),this.firstOverDraw||10==this.cardNum||this.cardEng.destroy(),this.nextQuestion(),a.key2=!0,this.buttonDraw.active=!1},return:function(){a.answer=0,a.startPlay=!1,a.ifCorrect=0,a.key2=!1,a.ifCountTime=!1,a.ifTurnEnd=!1,a.cardPosX=[],a.cardPosY=[],a.enermyHP=50,a.battleResult=0,a.gameTime=a.GAMETIME,a.lastCount=a.LASTCOUNT,cc.director.loadScene("welcome")},nextQuestion:function(){if(this.cardChi.destroy(),this.answeredCard.length<Math.ceil(3*this.cardNum/5)){a.lastCount=a.LASTCOUNT;for(var t=!0,i=0;t;)i=Math.floor(Math.random()*this.cardNum),-1==this.answeredCard.indexOf(i)&&(t=!1);a.ifCountTime=!0,a.answer=i,this.answeredCard[this.aC]=i,this.aC+=1,this.cardChi=cc.instantiate(this.card[0]),this.cardChi.setPosition(0,a.cardHeight/2),this.node.addChild(this.cardChi),this.cardChi.getChildByName("Label").getComponent(cc.Label).string=this.cardChinese[i]}else this.return()}}),cc._RF.pop()},{variables:"variables"}],variables:[function(t,i,e){"use strict";cc._RF.push(i,"c5301gpzz1C+pFX0Ifd2o0v","variables"),i.exports={canvasHeight:720,canvasWidth:1280,cardWidth:400,cardHeight:240,maxCardNum:10,answer:0,startPlay:!1,ifCorrect:0,key2:!1,moveRadio:.9,gameTime:300,GAMETIME:300,lastCount:5,LASTCOUNT:5,ifCountTime:!1,ifTurnEnd:!1,cardPosX:[],cardPosY:[],playerHP:10,enermyHP:50,battleResult:0,lifeBarWidth:40,lifeBarHeight:500,combo:0,ifIELTS:!1,ifGRE:!1,EnglishAll:["hello","world"],ChineseAll:["\u4f60\u597d","\u4e16\u754c"]},cc._RF.pop()},{}],welcome:[function(t,i,e){"use strict";cc._RF.push(i,"75118we47VMybvrJYWlvkB4","welcome");var a=t("variables");cc.Class({extends:cc.Component,properties:{},start:function(){this.IELTS=cc.find("Canvas/button/ielts/hook/checkmark"),this.GRE=cc.find("Canvas/button/GRE/hook/checkmark")},onButtonBeginGame:function(){cc.director.loadScene("game_scene")},onButtonTutorial:function(){cc.director.loadScene("tutorial")},onButtonIELTS:function(){a.ifIELTS=!a.ifIELTS},onButtonGRE:function(){a.ifGRE=!a.ifGRE},update:function(t){a.ifIELTS?this.IELTS.opacity=255:this.IELTS.opacity=0,a.ifGRE?this.GRE.opacity=255:this.GRE.opacity=0}}),cc._RF.pop()},{variables:"variables"}]},{},["card","enermy","game","gameOver","player","tutorial","variables","welcome"]);